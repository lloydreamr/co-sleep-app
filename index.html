<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Co-Sleep - Find Quiet Presence</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>
    <!-- Main Interface -->
    <div class="main-interface">
        <!-- Header -->
        <header class="moodist-header">
            <div class="header-top">
                <div class="online-count" id="onlineCount">
                    <span class="count-icon">üë•</span>
                    <span class="count-text">0 online</span>
                </div>
                <button class="login-btn" id="loginBtn">
                    <span class="login-icon">üë§</span>
                    <span class="login-text">Login</span>
                </button>
            </div>
            <h1>Co-Sleep</h1>
            <p>Find Quiet Presence</p>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Core MVP Interface -->
            <div class="core-interface">
                <div class="main-play-button" id="mainPlayBtn">
                    <span class="play-icon">‚ñ∂</span>
                    <span class="button-text">Find Quiet Presence</span>
                </div>
            </div>
        </main>

        <!-- Preferences Button (Bottom Right) -->
        <button class="preferences-btn" id="preferencesBtn">
            <span class="preferences-icon">‚öô</span>
        </button>
    </div>

    <!-- Preferences Overlay -->
    <div class="preferences-overlay" id="preferencesOverlay">
        <div class="preferences-panel">
            <div class="preferences-header">
                <h2>Preferences</h2>
                <button class="close-btn" id="closePreferencesBtn">√ó</button>
            </div>
            
            <div class="preferences-content">
                <!-- Background Sounds Section -->
                <div class="preferences-section">
                    <h3>Background Sounds</h3>
                    <div class="sound-controls">
                        <div class="sound-count-btn" id="soundCountBtn">
                            <span class="sound-icon">üéµ</span>
                            <span class="count-text">6 Sounds</span>
                        </div>
                    </div>
                </div>

                <!-- Future Features Placeholder -->
                <div class="preferences-section">
                    <h3>Features</h3>
                    <div class="feature-list">
                        <div class="feature-item">
                            <span class="feature-icon">‚è∞</span>
                            <span class="feature-text">Sleep Timer</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">üìù</span>
                            <span class="feature-text">Notepad</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">‚úÖ</span>
                            <span class="feature-text">Todo Checklist</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ü´Å</span>
                            <span class="feature-text">Breathing Exercise</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Sound Panel (Hidden by default) -->
    <div class="sound-panel" id="soundPanel">
        <div class="sound-panel-header">
            <h3>Background Sounds</h3>
            <button class="close-btn" id="closeSoundBtn">√ó</button>
        </div>
        
        <div class="sound-list">
            <div class="sound-item" data-sound="rain">
                <button class="sound-toggle" data-sound="rain">
                    <span class="play-icon">‚ñ∂</span>
                </button>
                <span class="sound-label">Rain</span>
                <input type="range" class="volume-slider" data-sound="rain" min="0" max="100" value="30">
            </div>
            
            <div class="sound-item" data-sound="ocean">
                <button class="sound-toggle" data-sound="ocean">
                    <span class="play-icon">‚ñ∂</span>
                </button>
                <span class="sound-label">Ocean</span>
                <input type="range" class="volume-slider" data-sound="ocean" min="0" max="100" value="30">
            </div>
            
            <div class="sound-item" data-sound="forest">
                <button class="sound-toggle" data-sound="forest">
                    <span class="play-icon">‚ñ∂</span>
                </button>
                <span class="sound-label">Forest</span>
                <input type="range" class="volume-slider" data-sound="forest" min="0" max="100" value="30">
            </div>
            
            <div class="sound-item" data-sound="fire">
                <button class="sound-toggle" data-sound="fire">
                    <span class="play-icon">‚ñ∂</span>
                </button>
                <span class="sound-label">Fire</span>
                <input type="range" class="volume-slider" data-sound="fire" min="0" max="100" value="30">
            </div>
            
            <div class="sound-item" data-sound="whitenoise">
                <button class="sound-toggle" data-sound="whitenoise">
                    <span class="play-icon">‚ñ∂</span>
                </button>
                <span class="sound-label">White Noise</span>
                <input type="range" class="volume-slider" data-sound="whitenoise" min="0" max="100" value="30">
            </div>
            
            <div class="sound-item" data-sound="cafe">
                <button class="sound-toggle" data-sound="cafe">
                    <span class="play-icon">‚ñ∂</span>
                </button>
                <span class="sound-label">Cafe</span>
                <input type="range" class="volume-slider" data-sound="cafe" min="0" max="100" value="30">
            </div>
        </div>
    </div>

    <!-- Call Interface (Hidden by default) -->
    <div class="call-interface" id="callInterface" style="display: none;">
        <div class="call-header">
            <h2>Connected</h2>
            <p id="statusText">Connected</p>
        </div>
        
        <div class="call-controls">
            <button class="mute-btn" id="muteBtn">
                <span class="mute-icon">üé§</span>
            </button>
            <button class="end-call-btn" id="endCallBtn">
                <span class="end-icon">üìû</span>
            </button>
        </div>
    </div>

    <!-- Loading Interface -->
    <div class="loading-interface" id="loadingInterface" style="display: none;">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p id="loadingText">Finding partner...</p>
        </div>
    </div>

    <!-- Error Interface -->
    <div class="error-interface" id="errorInterface" style="display: none;">
        <div class="error-content">
            <h2>Connection Error</h2>
            <p id="errorText">Unable to connect. Please try again.</p>
            <button class="retry-btn" id="retryBtn">Retry</button>
        </div>
    </div>

    <script src="sounds.js"></script>
    <script src="preferences.js"></script>
    <script src="script.js"></script>
</body>
</html>
